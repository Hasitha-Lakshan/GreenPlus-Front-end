<app-navbar></app-navbar>

<div class="container mt-5">

    <div class="text-right">
        <button class="btn btn-dark" routerLink='/user/{{currentUsername}}/messages'>Contact
            {{contactUsername}}</button>
    </div>
    <hr>

    <!--Visible for Farmers-->

    <div *ngIf="isFarmer">
        <div class="jumbotron p-3 bg-light mb-3" *ngIf="isInprogressOrder">
            <h4>Order Confirmation</h4>
            <hr>
            <p>This order does not start yet. Do you want to accept and start this order now?</p>
            <hr>
            <div class="text-right">
                <button class="btn btn-danger mx-1">Decline</button>
                <button class="btn btn-success mx-1">Accept</button>
            </div>
        </div>

        <div class="jumbotron bg-light p-3 mb-3 text-center" *ngIf="isLateOrder">
            <h4>Hurry Up! This order is late.</h4>
        </div>

        <div class="jumbotron bg-light p-3 mb-3 text-center" *ngIf="isCompletedOrder">
            <h4>Whoooha! This order was completed on {{orderDetailsPayload?.completedDate}}.</h4>
        </div>
    </div>


    <!--Visible for Buyers-->

    <div *ngIf="isBuyer">
        <div class="jumbotron bg-light p-3 mb-3 text-center" *ngIf="isLateOrder">
            <h4>Too Bad! This order is late.</h4>
        </div>

        <div class="jumbotron bg-light p-3 mb-3 text-center" *ngIf="isCompletedOrder">
            <h4>Whoooha! This order was completed on {{orderDetailsPayload?.completedDate}}.</h4>
        </div>
    </div>

    <!--Visible for both farmers and buyers-->

    <div class="jumbotron-fluid p-3 bg-light">
        <h4>{{orderDetailsPayload?.shopTitle}}</h4>
        <hr>
        <div class="row">
            <div class="col">
                <p>Created on: {{orderDetailsPayload?.createdDate}}</p>
            </div>
            <div class="col text-right">
                <p>Due on: {{orderDetailsPayload?.dueDate}}</p>
            </div>
        </div>
    </div>

    <div class="text-center p-5">
        <h5>The clock is here</h5>
    </div>

    <div class="jumbotron bg-light p-3 mb-3 text-left">
        <div class="row p-2">
            <div class="col">
                <span>Quantity : {{orderDetailsPayload?.quantity}} {{orderDetailsPayload?.unit}}</span>
            </div>
            <div class="col">
                <span>Total Price : {{orderDetailsPayload?.totalPrice}}.00 LKR</span>
            </div>
            <div class="col">
                <span>Delivery in {{orderDetailsPayload?.deliveryDays}} days</span>
            </div>
        </div>
        <hr>
        <div class="row p-2">
            <div class="col">
                <span>Delivery Address : {{orderDetailsPayload?.deliveryAddressLine1}},
                    {{orderDetailsPayload?.deliveryAddressLine2}}, {{orderDetailsPayload?.deliveryAddressLine3}}.</span>
            </div>
            <div class="col">
                <span>Delivery Location : {{orderDetailsPayload?.deliveryLocation}}</span>
            </div>
        </div>
    </div>

    <div id="note" class="row mt-3 mx-0">
        <h4 class="col py-3 text-center">Order Note</h4>
    </div>
    <div>
        <p class="text-justify p-3">{{orderDetailsPayload?.note}}</p>
    </div>
    <hr>
    <div *ngIf="isBuyer && !isInprogressOrder">
        <button class="bigButton col btn text-light py-3">
            <h5>Complete Order</h5>
        </button>
        <hr>
    </div>
</div>

<app-footer></app-footer>